<!DOCTYPE html>
<html lang="pt-br" xmlns:th="http://www.thymeleaf.org">

<head>
    <!-- Incluindo o fragmento de cabeçalho -->
    <meta th:insert="~{/fragments/custom-headfiles :: perfil-headfiles(title=${company.fantasyName})}">
</head>

<body>
    <!-- Cabeçalho -->
    <header th:replace="~{/fragments/header}"></header>

    <!-- Conteúdo principal -->
    <main>

        <!-- Seção de informações da empresa -->
        <section class="info-section" id="first-info">
            <img th:src="@{/imgs/default/enterprise-default.png}" alt="Imagem da Empresa">
            <h1 id="name" th:text="${company.fantasyName}">Nome da Empresa</h1>
        </section>

        <!-- Seção de atividade principal -->
        <section class="info-section" id="activity-section">
            <div class="topic">
                <h1 class="topic-title">Principal Atividade</h1>
                <p class="topic-content" th:text="${company.principalActivity}">Descrição da atividade principal</p>
            </div>
        </section>

        <!-- Seção de dados básicos da empresa -->
        <section class="info-section" id="basic-section">
            <h2 class="section-title">Dados da Empresa</h2>

            <div class="flex around">
                <div class="topic">
                    <h1 class="topic-title">Oportunidades Cadastradas</h1>
                    <p class="topic-content">
                        <span
                            th:text="${company.opportunityList != null ? #lists.size(company.opportunityList) : 0}">0</span>
                        Oportunidades
                    </p>
                </div>

                <div class="topic">
                    <h1 class="topic-title">CNPJ</h1>
                    <p class="topic-content" th:text="${company.cnpj}">CNPJ da empresa</p>
                </div>
            </div>

            <div class="topic">
                <h1 class="topic-title">Endereço</h1>
                <p class="topic-content" th:text="${company.address}">Endereço da empresa</p>
            </div>

            <div class="topic" th:if="${company.urlPage != null and !company.urlPage.isEmpty()}">
                <h1 class="topic-title">Site Oficial</h1>
                <p class="topic-content">
                    <a th:href="${company.urlPage}" target="_blank">Clique aqui para acessar o site oficial</a>
                </p>
            </div>
        </section>

        <!-- Seção de contato -->
        <section class="info-section" id="contact-section">
            <h2 class="section-title">Contato</h2>
            <div class="flex column">
                <div class="flex around">
                    <div class="topic">
                        <h1 class="topic-title">Email</h1>
                        <p class="topic-content" th:text="${company.email}">Email da empresa</p>
                    </div>

                    <div class="topic">
                        <h1 class="topic-title">Telefone</h1>
                        <p class="topic-content" th:text="${company.phoneNumber}">Telefone da empresa</p>
                    </div>
                </div>

                <div class="topic">
                    <h1 class="topic-title">Pessoa Contato</h1>
                    <p class="topic-content" th:text="${company.personContact}">Nome da pessoa de contato</p>
                </div>
            </div>
        </section>

        <!-- Seção de oportunidades -->
        <section class="info-section" id="oportunity-section">
            <h2 class="section-title">Oportunidades <span> </span></h2>
            <p>Total de Oportunidades: <span th:text="${#lists.size(company.opportunityList)}"></span></p>

            <div class="no-content-msg" th:if="${#lists.isEmpty(company.opportunityList)}">
                <p>Não há oportunidades disponíveis.</p>
            </div>


            <a th:each="opportunity : ${company.opportunityList}" class="link-card"
                th:href="@{/internshipOffer/info/{id}(id=${opportunity.id})}">
                <div class="opportunity-item">
                    <h3 th:text="${opportunity.principalActivity}">Principal Atividade</h3>
                    <p><strong>Carga Horária Semanal:</strong> <span th:text="${opportunity.weeklyWorkload}">40</span>
                        horas</p>
                    <p><strong>Remuneração:</strong>R$ <span th:text="${opportunity.remunerationValue}"> 0,00</span>
                    </p>
                    <p><strong>Vale Transporte:</strong> <span th:text="${opportunity.transportVoucher}">Sim</span>
                    </p>
                    <p><strong>Pré-requisitos:</strong> <span th:text="${opportunity.prerequisites}">Nenhum</span>
                    </p>
                </div>
            </a>

        </section>

        <!-- Inclusão de scripts -->
        <div th:replace="~{/fragments/scripts}"></div>

    </main>
</body>

</html>