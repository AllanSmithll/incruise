<!doctype html>
<html lang="pt-br" xmlns:th="http://www.thymeleaf.org">

<head>
    <!-- Incluindo o fragmento de cabeçalho -->
    <meta
        th:insert="~{/fragments/custom-headfiles :: perfil-headfiles(title=${typeOpportunity} + ' - ' + ${opportunity.principalActivity})}">
    <link rel="stylesheet" th:href="@{/styles/offers/info.css}">
</head>

<body>
    <!-- Cabeçalho -->
    <header th:replace="~{/fragments/header}"></header>

    <!-- Conteúdo principal -->
    <main class="main-content">
        <!-- Título da oportunidade -->
        <h1 class="title" th:text="${typeOpportunity}">Tipo da Oportunidade</h1>

        <!-- Seção de detalhes da oportunidade -->
        <div class="section details">
            <h1 class="section-title">Detalhes</h1>
            <!-- Remuneração -->
            <p th:if="${opportunity.remunerationValue != 0}">
                <strong>Remuneração:</strong> 
                <span th:text="'R$'+ ${#numbers.formatDecimal(opportunity.remunerationValue, 1, 2)}">R$ 0,00</span>
            </p>
            <!-- voluntário -->
            <p th:unless="${opportunity.remunerationValue != 0}">
                <strong>Estágio Voluntário</strong>
            </p>

            <!-- Vale Transporte -->
            <p th:if="${opportunity.transportVoucher != 0}">
                <strong>Vale Transporte:</strong><span th:text="'R$'+ ${#numbers.formatDecimal(opportunity.transportVoucher, 1, 2)}">R$ 0,00</span>
            </p>

            <p>
                <strong>Pré-requisitos:</strong>
                <span th:if="${!#strings.isEmpty(opportunity.prerequisites)}"
                    th:text="${opportunity.prerequisites}"></span>
                <span th:if="${#strings.isEmpty(opportunity.prerequisites)}">Nenhum</span>
            </p>
        </div>
        <div class="section competences">
            <div id="Competence-Necessary-Box">
                <p class="topic-title">Competências Obrigatórias</p>
                <ul class="list-competences" th:each="competence : ${opportunity.necessarySkills}">
                    <li class="competence " th:text="${competence}">
                        Isso é uma competência obrigatória e longa
                    </li>
                </ul>
            </div>

            <div id="Competence-Desirable-Box">
                
                <p class="topic-title">Competências Desejadas</p>
                <ul class="list-competences" th:each="competence : ${opportunity.desirableSkills}">
                    <li class="competence" th:text="${competence}">
                        Isso é uma competência desejada longa, muito longa, pode crêr que é longa, por que é longa e não curta, pois se fosse curta não seria longa
                    </li>
                </ul>
            </div>
            
        </div>

        <div class="section candidatures">
            <h1 class="section-title">Candidaturas</h1>

            <div th:if="${#lists.isEmpty(opportunity.candidatureList)}">
                <p class="no-content-msg">Sem Candidaturas Registradas.</p>
            </div>

            <table th:if="${!#lists.isEmpty(opportunity.candidatureList)}" class="table-candidatures">
                <thead>
                    <tr>
                        <th>Nome</th>
                        <th>Matrícula</th>
                        <th>Email</th>
                        <th>Curso</th>
                        <th>Telefone</th>
                        <th>Data</th>
                    </tr>
                </thead>
                <tbody th:each="c : ${opportunity.candidatureList}">
                    <tr>
                        <td th:text="${c.student.name}">Nome do Estudante</td>
                        <td th:text="${c.student.enrollment}">Matrícula do Estudante</td>
                        <td th:text="${c.student.email}">Email do Estudante</td>
                        <td th:text="${c.student.course}">Curso do Estudante</td>
                        <td th:text="${c.student.phoneNumber}">Telefone do Estudante</td>
                        <td th:text="${#dates.format(c.createdDate, 'dd/MM/yyyy')}">Data da Candidatura</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Seção de informações da empresa responsável -->
        <div class="section company-info">
            <h1 class="section-title">Empresa Responsável</h1>
            <p>
                <strong>Nome da Empresa:</strong>
                <span th:text="${opportunity.companyResponsible.fantasyName}">Nome da Empresa</span>
            </p>
            <p>
                <strong>Endereço:</strong>
                <span th:text="${opportunity.companyResponsible.address}">Endereço da Empresa</span>
            </p>
            <div
                th:if="${opportunity.companyResponsible.urlPage != null and !opportunity.companyResponsible.urlPage.isEmpty()}">
                <p>
                    <strong>Website:</strong>
                    <a class="company-link" th:href="${opportunity.companyResponsible.urlPage}" target="_blank"
                        th:text="${opportunity.companyResponsible.urlPage}">Acesse o perfil da empresa</a>
                </p>
            </div>
            <a class="btn btn-primary company-visit-btn"
                th:href="@{/company/info/{id}(id=${opportunity.companyResponsible.id})}">Visitar perfil</a>
        </div>
    </main>

    <!-- Inclusão de scripts -->
    <div th:replace="~{/fragments/scripts}"></div>

</body>

</html>